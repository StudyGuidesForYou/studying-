<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Class Code Portal — Launcher</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- Custom Cursor -->
  <img id="custom-cursor" class="hidden" alt="custom cursor">

  <!-- Logo / Settings Button -->
  <button id="logo-btn" aria-label="Open settings">
    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
      <path fill="#0b1020" d="M50 6c-6 0-12 2-17 7L13 33c-9 9-9 24 0 33l20 20c9 9 24 9 33 0l20-20c9-9 9-24 0-33L67 13c-5-5-11-7-17-7zm0 16c3 0 6 1 8 3l23 23c4 4 4 10 0 14L58 88c-4 4-10 4-14 0L21 56c-4-4-4-10 0-14l23-23c2-2 5-3 8-3z"/>
    </svg>
  </button>

  <!-- Settings Panel -->
  <aside id="side-panel" aria-hidden="true" role="dialog" aria-label="Settings panel">
    <div class="side-inner">
      <div class="panel-header">
        <h3>Settings</h3>
        <button id="side-close" class="icon-btn" title="Close">✕</button>
      </div>

      <section class="panel-section">
        <h4>Background</h4>
        <input id="bg-color" type="color" title="Background color" />
        <div class="info">Or upload an image</div>
        <input id="bg-file" type="file" accept="image/*" />
        <button id="bg-clear" class="small-ghost">Clear background</button>
      </section>

      <section class="panel-section">
        <h4>Volume</h4>
        <label>Master <span id="master-val">100</span>%</label>
        <input id="master-vol" type="range" min="0" max="100" />
        <label>SFX <span id="sfx-val">100</span>%</label>
        <input id="sfx-vol" type="range" min="0" max="100" />
        <label>Iframe <span id="frame-val">100</span>%</label>
        <input id="frame-vol" type="range" min="0" max="100" />
        <div class="small-muted">Iframe volume works only if the embedded site cooperates.</div>
      </section>

      <section class="panel-section">
        <h4>Tools</h4>
        <div class="tools-grid">
          <button id="open-stopwatch" class="tool-btn">Stopwatch</button>
          <button id="open-timer" class="tool-btn">Timer</button>
          <button id="open-alarm" class="tool-btn">Alarm</button>
          <button id="open-notes" class="tool-btn">Notes</button>
        </div>
      </section>

      <section class="panel-section">
        <h4>Custom Cursor</h4>
        <div class="info">Upload a PNG/JPG. Light / white background will be removed automatically.</div>
        <input id="cursor-file" type="file" accept="image/*" />
        <label>Size: <span id="cursor-size-val">48</span>px</label>
        <input id="cursor-size" type="range" min="16" max="128" value="48" />
        <button id="cursor-clear" class="small-ghost">Clear cursor</button>
      </section>

      <div style="flex:1"></div>
      <div class="small-muted">Settings saved locally in your browser.</div>
    </div>
  </aside>

  <!-- Background -->
  <canvas id="bg-canvas" aria-hidden="true"></canvas>
  <div class="bg-overlay" aria-hidden="true"></div>

  <!-- Code Screen -->
  <main id="code-screen" class="center-screen" role="main" aria-labelledby="code-title">
    <div class="card glass enter-card" id="enter-card">
      <h1 id="code-title">Class code?</h1>
      <p class="subtitle">Enter the 5-letter code</p>

      <div id="code-row" class="code-row" role="group" aria-label="class code inputs">
        <input class="code-box" maxlength="1" inputmode="text" autocomplete="off" />
        <input class="code-box" maxlength="1" inputmode="text" autocomplete="off" />
        <input class="code-box" maxlength="1" inputmode="text" autocomplete="off" />
        <input class="code-box" maxlength="1" inputmode="text" autocomplete="off" />
        <input class="code-box" maxlength="1" inputmode="text" autocomplete="off" />
      </div>

      <div class="controls">
        <button id="paste-btn" class="ghost">Paste</button>
        <button id="clear-btn" class="ghost">Clear</button>
        <button id="enter-btn" class="primary">Enter</button>
      </div>

      <div id="status-line" class="status-line" aria-live="polite"></div>
    </div>
  </main>

  <!-- Launcher Screen -->
  <main id="app-screen" class="hidden app-screen" aria-hidden="true">
    <div class="topbar">
      <h2 class="title">Launcher</h2>
      <div class="right">
        <input id="url-input" class="wide-url" placeholder="Enter URL..." />
        <button id="go-btn" class="primary">Open</button>
      </div>
    </div>

    <div id="iframe-wrap">
      <iframe id="the-frame" sandbox="allow-same-origin allow-scripts allow-forms allow-popups"></iframe>
    </div>
  </main>

  <!-- Tools Modal -->
  <div id="tools-modal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modal-card card glass">
      <button id="modal-close" class="close">✕</button>
      <div id="modal-body"></div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
