<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Aurora — Web OS</title>

<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Interact.js for drag/resize -->
<script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>

<!-- xterm.js -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/xterm/css/xterm.css" />
<script src="https://cdn.jsdelivr.net/npm/xterm/lib/xterm.js"></script>

<style>
:root{
  --bg1: #0b0f21;
  --glass: rgba(255,255,255,0.06);
  --glass-2: rgba(255,255,255,0.04);
  --accent: #7c5cff;
  --accent-2: #00e5ff;
  --radius: 14px;
  --taskbar-height: 56px;
}
html,body,#root{height:100%;margin:0;padding:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;}
body{overflow:hidden; background:var(--bg1); -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;}
#wallpaper{position:fixed; inset:0; overflow:hidden;}
#wallpaper canvas{width:100%; height:100%; display:block;}

#desktop{position:absolute; inset:0; padding:24px; display:flex; flex-wrap:wrap; gap:18px; align-content:flex-start; z-index:1;}
.desk-icon{width:84px;text-align:center;color:white;cursor:pointer;user-select:none;transition:transform 0.15s;}
.desk-icon:hover{transform:scale(1.08);}
.desk-icon img{width:64px;height:64px;border-radius:16px;box-shadow:0 4px 20px rgba(2,6,23,0.6);}
.desk-icon span{display:block;margin-top:6px;font-size:13px;max-width:84px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

/* Taskbar */
#taskbar{
  position:fixed;left:0;right:0;bottom:0;height:var(--taskbar-height);padding:6px 18px;display:flex;align-items:center;gap:12px;
  background:linear-gradient(180deg, rgba(8,10,15,0.18), rgba(8,10,15,0.28));backdrop-filter: blur(12px);
  border-top: 1px solid rgba(255,255,255,0.03); z-index:10;
}
#start-button{
  width:44px;height:44px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  display:flex;align-items:center;justify-content:center;color:white;font-weight:600;cursor:pointer;
  box-shadow:0 6px 22px rgba(2,6,23,0.6);
  transition:transform 0.15s;
}
#start-button:hover{transform:scale(1.05);}
#taskbar .pinned {display:flex;gap:8px;align-items:center}
.tb-btn{height:40px;min-width:40px;padding:6px;border-radius:10px;background:transparent;border:none;cursor:pointer;color:white;display:flex;align-items:center;justify-content:center;transition:background 0.15s;}
.tb-btn:hover{background:rgba(255,255,255,0.03)}

/* Window style */
.aurora-window{
  position:absolute;
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:var(--radius);
  box-shadow:0 20px 50px rgba(2,6,23,0.7);
  overflow:hidden;
  border:1px solid rgba(255,255,255,0.03);
  display:flex; flex-direction:column;
  backdrop-filter:blur(6px);
}
.win-title{
  display:flex;align-items:center;justify-content:space-between;padding:8px 10px;
  background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
  backdrop-filter: blur(4px); cursor:move;
}
.win-title .left{display:flex;gap:8px;align-items:center;font-weight:600}
.win-controls button{margin-left:6px;border-radius:8px;width:32px;height:28px;background:transparent;border:0;color:white;cursor:pointer;font-size:16px;transition:background 0.15s;}
.win-controls button:hover{background:rgba(255,255,255,0.05);}
.win-body{flex:1;background:transparent;overflow:auto;padding:8px;}

/* Start Menu */
#start-menu{position:fixed;left:50%;transform:translateX(-50%);bottom:72px;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));border-radius:16px;padding:14px;width:760px;box-shadow:0 30px 70px rgba(2,6,23,0.7);display:flex;gap:14px;color:white;z-index:20}
.start-left{width:46%}
.start-right{width:54%;display:flex;flex-direction:column;gap:8px}
.app-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
.app-card{display:flex;align-items:center;gap:10px;padding:8px;border-radius:10px;cursor:pointer;transition:background 0.15s}
.app-card:hover{background:rgba(255,255,255,0.02)}

/* Context menu */
.ctx{position:fixed;background:#0b1220;color:white;border-radius:8px;padding:8px;box-shadow:0 10px 30px rgba(2,6,23,0.6);display:none;z-index:9999}
.ctx button{display:block;width:100%;text-align:left;padding:6px;border-radius:6px;background:transparent;border:0;color:white;cursor:pointer}
.ctx button:hover{background:rgba(255,255,255,0.05);}

/* helpers */
.muted{color:rgba(255,255,255,0.6);font-size:13px}
.icon-small{width:22px;height:22px;border-radius:6px}
textarea,input{background:rgba(255,255,255,0.05);color:white;border:none;border-radius:8px;padding:6px;font-family:inherit;}
button{cursor:pointer;transition:background 0.15s;}
button:hover{background:rgba(255,255,255,0.05);}
</style>
</head>
<body>

<!-- Animated Aurora Background -->
<div id="wallpaper">
  <canvas id="aurora-canvas"></canvas>
</div>

<!-- Desktop -->
<div id="desktop" oncontextmenu="return false;"></div>

<!-- Start Menu -->
<div id="start-menu" style="display:none" aria-hidden="true">
  <div class="start-left">
    <div style="display:flex;align-items:center;gap:12px;margin-bottom:10px">
      <div style="width:48px;height:48px;border-radius:12px;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:flex;align-items:center;justify-content:center;font-weight:700">A</div>
      <div>
        <div style="font-weight:700;font-size:16px">Aurora</div>
        <div class="muted">Welcome back — ready to explore?</div>
      </div>
    </div>
    <div style="margin-top:8px" class="muted">Pinned</div>
    <div id="pinned-grid" class="app-grid" style="margin-top:8px"></div>
  </div>
  <div class="start-right">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <div style="font-weight:700">All apps</div>
      <input id="start-search" placeholder="Search apps..." />
    </div>
    <div id="all-apps" style="overflow:auto;height:420px;margin-top:8px"></div>
  </div>
</div>

<!-- Taskbar -->
<div id="taskbar">
  <div id="start-button" title="Start (press Win or click)">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
      <path d="M3 3h4v4H3V3zM9 3h6v4H9V3zM15 3h6v4h-6V3zM3 9h4v6H3V9zM9 9h6v6H9V9zM15 9h6v6h-6V9zM3 15h4v6H3v-6zM9 15h6v6H9v-6zM15 15h6v6h-6v-6z" fill="white"/>
    </svg>
  </div>
  <div class="pinned" id="taskbar-pinned"></div>
  <div style="flex:1"></div>
  <div style="display:flex;gap:10px;align-items:center;color:white">
    <div id="tray-wifi" class="muted">Aurora</div>
    <div id="tray-time" class="muted"></div>
    <div id="tray-open-menu" style="width:40px;height:40px;border-radius:8px;background:transparent;display:flex;align-items:center;justify-content:center;cursor:pointer">⚙️</div>
  </div>
</div>

<!-- Context Menu -->
<div id="ctx-menu" class="ctx" role="menu">
  <button onclick="createNewFile()">New text file</button>
  <button onclick="refreshDesktop()">Refresh</button>
  <button onclick="openSettings()">Change wallpaper</button>
</div>

<!-- Windows Root -->
<div id="windows-root"></div>

<!-- Aurora Canvas Script -->
<script>
const canvas=document.getElementById('aurora-canvas');
const ctx=canvas.getContext('2d');
let width=canvas.width=window.innerWidth;
let height=canvas.height=window.innerHeight;

const particles=[];
for(let i=0;i<200;i++){
  particles.push({x:Math.random()*width,y:Math.random()*height,r:Math.random()*2+1,dx:(Math.random()-0.5)*0.3,dy:(Math.random()-0.5)*0.3,color:`hsla(${Math.random()*360},100%,50%,0.15)`});
}

function animate(){
  ctx.clearRect(0,0,width,height);
  for(const p of particles){
    p.x+=p.dx; p.y+=p.dy;
    if(p.x<0||p.x>width)p.dx*=-1;
    if(p.y<0||p.y>height)p.dy*=-1;
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
    ctx.fillStyle=p.color;
    ctx.fill();
  }
  requestAnimationFrame(animate);
}
animate();

window.addEventListener('resize',()=>{width=canvas.width=window.innerWidth;height=canvas.height=window.innerHeight;});
</script>
</body>
</html>
