:root{
  --bg-1:#081226;
  --bg-2:#0c1830;
  --panel: rgba(15,22,36,0.72);
  --accent:#2d65ff;
  --muted:#98a7c6;
  --success:#2ee6a2;
  --danger:#ff6b6b;
  --radius:18px;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;color:#e6eef8;background:linear-gradient(180deg,var(--bg-1),var(--bg-2));-webkit-font-smoothing:antialiased}
button{font:inherit}
.hidden{display:none}

/* background canvas & overlay */
#bg-canvas{position:fixed;inset:0;z-index:-2;width:100%;height:100%}
.bg-overlay{position:fixed;inset:0;background:radial-gradient(circle at 20% 20%, rgba(45,101,255,0.06), transparent 8%), radial-gradient(circle at 80% 80%, rgba(46,230,162,0.02), transparent 12%);z-index:-1}

/* logo button (hidden until code accepted) */
#logo-btn{
  position:fixed;left:18px;top:16px;width:54px;height:54px;border-radius:12px;padding:6px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));backdrop-filter:blur(6px);box-shadow:0 8px 26px rgba(2,6,23,0.6);cursor:pointer;z-index:60;transition: transform .35s cubic-bezier(.2,.9,.3,1),opacity .3s;
  object-fit:contain;filter:hue-rotate(190deg) saturate(60%) brightness(.95);opacity:0;
}
#logo-btn.show{opacity:1}
#logo-btn.open{transform:rotate(90deg)}

/* side panel */
#side-panel{position:fixed;left:0;top:0;height:100%;width:360px;transform:translateX(-380px);transition:transform .35s cubic-bezier(.2,.9,.3,1);z-index:59;display:flex;align-items:flex-start;padding:22px}
#side-panel.open{transform:translateX(0)}
.side-inner{width:100%;display:flex;flex-direction:column;gap:12px;color:#dfe9ff}
.side-inner h3{margin:0 0 2px 0;font-size:18px}
.panel-section{padding:12px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.014), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.02)}
.panel-section h4{margin:0 0 8px 0;font-size:14px}
.small-muted{color:var(--muted);font-size:12px}
.small-ghost{background:transparent;border:1px solid rgba(255,255,255,0.03);color:var(--muted);padding:6px 8px;border-radius:8px;margin-top:8px;cursor:pointer}

/* custom cursor */
#custom-cursor{position:fixed;pointer-events:none;z-index:9999;transform:translate(-50%,-50%);display:block;mix-blend-mode:screen}
.hidden{display:none}

/* center screen card */
.center-screen{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px}
.card{width:760px;max-width:94%;padding:36px;border-radius:var(--radius);background:var(--panel);backdrop-filter:blur(20px);box-shadow:0 18px 40px rgba(3,9,22,0.6);text-align:center}
.enter-card{width:100%;max-width:760px;text-align:center;transform-origin:center;transition:transform .35s,opacity .25s}
h1{font-size:32px;margin:0}
.subtitle{color:var(--muted);margin-top:6px}

/* code boxes */
.code-row{display:flex;gap:14px;justify-content:center;margin:18px 0}
.code-box{width:64px;height:78px;border-radius:12px;border:1px solid rgba(255,255,255,0.02);background:rgba(12,18,30,0.65);color:#fff;font-size:28px;text-align:center;line-height:78px;outline:none;transition:transform .12s,box-shadow .12s}
.code-box:focus{transform:translateY(-3px);box-shadow:0 10px 30px rgba(124,92,255,0.12)}
.controls{display:flex;justify-content:center;gap:12px;margin-top:8px}
.ghost{background:transparent;border:1px solid rgba(255,255,255,0.03);padding:10px 14px;border-radius:10px;color:var(--muted);cursor:pointer}
.primary{background:linear-gradient(90deg,var(--accent),#4f7bff);color:#fff;padding:10px 16px;border-radius:12px;border:none;box-shadow:0 10px 30px rgba(45,101,255,0.12);cursor:pointer}
.status-line{height:20px;margin-top:10px;color:var(--muted);font-size:14px}

/* shake */
@keyframes shake{10%,90%{transform:translateX(-1px)}20%,80%{transform:translateX(6px)}30%,50%,70%{transform:translateX(-6px)}40%,60%{transform:translateX(6px)}}
.shake{animation:shake .45s cubic-bezier(.36,.07,.19,.97)}

/* app/launcher */
.app-screen{display:flex;flex-direction:column;height:100vh;padding:18px;gap:12px}
.topbar{display:flex;justify-content:space-between;align-items:center;gap:12px}
#url-input{flex:1;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);background:rgba(12,18,30,0.6);color:#fff;margin-right:10px}
#iframe-wrap{flex:1;display:flex;align-items:center;justify-content:center;padding:12px}
#iframe-wrap iframe{width:95%;height:90%;border-radius:14px;background:#000;border:1px solid rgba(255,255,255,0.03)}

/* modal */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:80}
.modal.hidden{display:none}
.modal-card{width:100%;max-width:760px;padding:18px;border-radius:14px;position:relative}
.close{position:absolute;right:12px;top:12px;border:none;background:transparent;color:var(--muted);font-size:18px;cursor:pointer}

/* ttt board */
.ttt-board{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-top:12px}
.ttt-cell{background:rgba(255,255,255,0.03);height:92px;display:flex;align-items:center;justify-content:center;border-radius:10px;font-size:36px;cursor:pointer;user-select:none}

/* small responsive */
@media (max-width:520px){
  .code-box{width:52px;height:52px;font-size:22px;line-height:52px}
}
