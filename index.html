<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Aurora â€” Web OS</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/xterm/css/xterm.css" />
<script src="https://cdn.jsdelivr.net/npm/xterm/lib/xterm.js"></script>
<style>
:root{--bg1:linear-gradient(135deg,#0f172a 0%, #021025 60%, #052b36 100%);--glass:rgba(255,255,255,0.06);--glass-2:rgba(255,255,255,0.04);--accent:#7c5cff;--accent-2:#00e5ff;--radius:14px;}
html,body,#root{height:100%;margin:0;font-family:Inter,sans-serif;}
body{background:var(--bg1);overflow:hidden;color:white;}
#desktop{position:absolute;inset:0;padding:24px;display:flex;flex-wrap:wrap;gap:18px;align-content:flex-start;}
.desk-icon{width:84px;text-align:center;cursor:pointer;user-select:none}
.desk-icon span{display:block;margin-top:6px;font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.aurora-window{position:absolute;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:14px;box-shadow:0 20px 50px rgba(2,6,23,0.7);overflow:hidden;border:1px solid rgba(255,255,255,0.03);}
.win-title{display:flex;align-items:center;justify-content:space-between;padding:8px 10px;background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);backdrop-filter: blur(3px);cursor:move;}
.win-title .left{font-weight:600;}
.win-controls button{margin-left:6px;border-radius:8px;width:32px;height:28px;background:transparent;border:0;color:white;cursor:pointer;font-size:16px;}
.win-body{height:calc(100% - 44px);overflow:auto;padding:8px;}
textarea,input{background:rgba(255,255,255,0.05);color:white;border:none;border-radius:8px;padding:6px;font-family:inherit;}
button{cursor:pointer;}
</style>
</head>
<body>
<div id="desktop"></div>
<div id="windows-root"></div>

<script>
/* ---------- Apps ---------- */
const APPS=[
{id:'aura-notepad',name:'Aurora Notes',icon:'ðŸ“',type:'app',run:notepadApp},
{id:'aura-calc',name:'Aurora Calc',icon:'ðŸ§®',type:'app',run:calculatorApp},
{id:'aura-paint',name:'Aurora Paint',icon:'ðŸŽ¨',type:'app',run:paintApp},
{id:'aura-terminal',name:'Aurora Terminal',icon:'ðŸ’»',type:'app',run:terminalApp},
{id:'DayDreamX', name:'DayDreamX', icon:'ðŸ’­', type:'web', url:'https://study.info.north-kazakhstan.su.cdn.cloudflare.net/'},
{id:'Velera', name:'Velera', icon:'ðŸš€', type:'web', url:'https://zearn.buzz.cdn.cloudflare.net/'}
];

/* ---------- State ---------- */
const state={windows:[],z:100,pinned:[],files:[]};
const desktop=document.getElementById('desktop');
const windowsRoot=document.getElementById('windows-root');

/* ---------- Desktop ---------- */
function renderDesktop(){
  desktop.innerHTML='';
  APPS.forEach(app=>{
    const el=document.createElement('div'); el.className='desk-icon'; el.title=app.name;
    el.innerHTML=`<div style="font-size:40px">${app.icon}</div><span>${app.name}</span>`;
    el.ondblclick=()=>openAppWindow(app);
    desktop.appendChild(el);
  });
}

/* ---------- Window Management ---------- */
function focusWindow(id){const el=document.getElementById(id); if(el) el.style.zIndex=++state.z; reportState();}
function openAppWindow(app){
  if(!app) return; const id='win-'+app.id;
  if(document.getElementById(id)){focusWindow(id); return;}
  const win=document.createElement('div'); win.id=id; win.className='aurora-window';
  win.style.left='100px'; win.style.top='100px'; win.style.width='480px'; win.style.height='320px'; win.style.zIndex=++state.z;
  if(app.type==='web'){win.innerHTML=`<div class="win-title"><div class="left">${app.name}</div>
    <div class="win-controls"><button onclick="minimizeWindow('${id}')">_</button><button onclick="toggleMaximize('${id}')">â–¡</button><button onclick="closeWindow('${id}')">Ã—</button></div></div>
    <div class="win-body"><iframe src="${app.url}" style="width:100%;height:100%;border:0;"></iframe></div>`;}
  else{win.innerHTML=`<div class="win-title"><div class="left">${app.name}</div>
    <div class="win-controls"><button onclick="minimizeWindow('${id}')">_</button><button onclick="toggleMaximize('${id}')">â–¡</button><button onclick="closeWindow('${id}')">Ã—</button></div></div>
    <div class="win-body" id="app-body-${id}"></div>`; if(app.run) app.run('app-body-'+id);}
  windowsRoot.appendChild(win);
  interact(win).draggable({allowFrom:'.win-title', listeners:{move(e){const t=e.target;t.style.left=(parseFloat(t.style.left)||0)+e.dx+'px';t.style.top=(parseFloat(t.style.top)||0)+e.dy+'px';}}})
    .resizable({edges:{left:true,right:true,top:true,bottom:true},modifiers:[interact.modifiers.restrictSize({min:{width:320,height:160}})],listeners:{move(e){const t=e.target;t.style.width=e.rect.width+'px';t.style.height=e.rect.height+'px';t.style.left=(parseFloat(t.style.left)||0)+e.deltaRect.left+'px';t.style.top=(parseFloat(t.style.top)||0)+e.deltaRect.top+'px';}}});
  state.windows.push({id:id,title:app.name});
  reportState();
}

function closeWindow(id){const el=document.getElementById(id); if(el){el.remove(); state.windows=state.windows.filter(w=>w.id!==id); reportState();}}
function minimizeWindow(id){const el=document.getElementById(id); if(el) el.style.display='none'; reportState();}
function toggleMaximize(id){const el=document.getElementById(id); if(!el) return;
  if(el.dataset.max==='true'){el.style.width='480px';el.style.height='320px';el.dataset.max='false';}
  else{el.style.width=window.innerWidth-40+'px';el.style.height=window.innerHeight-80+'px';el.style.left='20px';el.style.top='20px';el.dataset.max='true';}
  reportState();
}

/* ---------- Apps ---------- */
function calculatorApp(containerId){
  const container=document.getElementById(containerId);
  container.innerHTML=`<input id="calc-screen" style="width:100%;font-size:24px;margin-bottom:8px;padding:6px;text-align:right" disabled/>
  <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:4px">
  ${['7','8','9','/','4','5','6','*','1','2','3','-','0','.','=','+'].map(b=>`<button>${b}</button>`).join('')}</div>`;
  const screen=container.querySelector('#calc-screen');
  container.querySelectorAll('button').forEach(b=>{
    b.onclick=()=>{if(b.innerText==='='){try{screen.value=eval(screen.value)}catch(e){screen.value='Error'}} else screen.value+=b.innerText;}
  });
}

function notepadApp(containerId){
  const container=document.getElementById(containerId);
  container.innerHTML=`<textarea style="width:100%;height:100%;padding:8px;border-radius:8px;background:rgba(255,255,255,0.05);color:white" placeholder="Write notes..."></textarea>`;
}

function paintApp(containerId){
  const container=document.getElementById(containerId);
  container.innerHTML=`<canvas id="paintCanvas" width="460" height="300" style="border:1px solid #555;background:#0a0a20;"></canvas>
  <div style="margin-top:4px;"><label>Brush: <input type="number" id="brushSize" value="4" min="1" max="50" style="width:50px"></label> <button id="clearBtn">Clear</button></div>`;
  const canvas=container.querySelector('#paintCanvas'); const ctx=canvas.getContext('2d'); let drawing=false; let size=4;
  const brushInput=container.querySelector('#brushSize'); brushInput.oninput=()=>{size=parseInt(brushInput.value)};
  canvas.onmousedown=()=>drawing=true; canvas.onmouseup=()=>drawing=false;
  canvas.onmousemove=e=>{if(!drawing) return; ctx.fillStyle='white'; ctx.fillRect(e.offsetX,e.offsetY,size,size);}
  container.querySelector('#clearBtn').onclick=()=>{ctx.clearRect(0,0,canvas.width,canvas.height);}
}

function terminalApp(containerId){
  const container=document.getElementById(containerId);
  const term=new Terminal({cols:80,rows:24});
  term.open(container); term.writeln('Aurora Terminal Ready. Type "help".');
}

/* ---------- Console State Reporter ---------- */
function reportState(){
  console.group('%cAurora OS State','color:#7c5cff;font-weight:bold');
  console.log('Open Windows:', state.windows.map(w=>{const el=document.getElementById(w.id); return {id:w.id,title:w.title,left:el.style.left,top:el.style.top,width:el.style.width,height:el.style.height,z:el.style.zIndex};}));
  console.groupEnd();
}

/* ---------- Initial Render ---------- */
renderDesktop();
</script>
</body>
</html>
